# Седмица 4 - Работа с двоични файлове

Този проект разширява `Smart City` приложението от Седмици 1-3 чрез добавяне на функционалност за работа с двоични файлове за сгради (Building), включително сериализация, десериализация и търсене на сгради по определени критерии.

## Структура на проекта

Нужни са следните модификации на проекта:
- `smartcity.hpp` - **РАЗШИРЕН** с декларации на функции за файлови операции и търсене на сгради
- `smartcity.cpp` - **РАЗШИРЕН** с имплементации на новите функции
- `main_week4.cpp` - **НОВ** - Програма за тестване на функциите за работа с двоични файлове

## Стъпки за имплементация

Преди да имплементирате, погледнете [важните забележки](#Забележки-и-препоръки) по-долу.

### 1. Разширение на smartcity.hpp/cpp

Към структурите и функциите от седмица 3 добавяме:

1. Функции за сериализация/десериализация на една сграда:
   - `saveBuildingToFile` / `loadBuildingFromFile` - За единични сгради

2. Функции за запазване и зареждане на множество сгради:
   - `saveBuildingsToFile` / `loadBuildingsFromFile` - За масив от сгради с произволна дължина

3. Функции за търсене на сгради:
   - `searchOperationalBuildings` - Търсене на работещи сгради (isOperational = 1)

### 2. Примерен формат на двоичните файлове

За единична сграда:
- Директен запис на структурата Building в двоичен файл

За множество сгради:
- Запис на броя сгради (int)
- Последователен запис на всяка структура Building

## Пример за използване 

```cpp
// Запазване на сграда
Building myBuilding;
inputBuildingData(myBuilding);
saveBuildingToFile(myBuilding, "building.bin");

// Зареждане на сграда
Building loadedBuilding;
if (loadBuildingFromFile(loadedBuilding, "building.bin")) {
    printBuildingInfo(loadedBuilding);
}

// Запазване на множество сгради
Building buildings[3];
// ... въвеждане на данни за сградите
saveBuildingsToFile(buildings, 3, "buildings.bin");

// Зареждане на множество сгради
Building loadedBuildings[10];
int count = loadBuildingsFromFile(loadedBuildings, 10, "buildings.bin");

// Търсене на работещи сгради
Building results[10];
int found = searchOperationalBuildings(loadedBuildings, count, results, 10);
```

## Забележки и препоръки

1. При работа с двоични файлове:
   - Използвайте режимите `ios::binary` при отваряне на файловете
   - Използвайте read/write с правилния размер на данните
   - Проверявайте успешността на операциите
   - Затваряйте файловете след приключване на операциите
   - При записване на много сгради пазете броя в началото на файла

2. При търсене:
   - Функциите за търсене трябва да връщат броя намерени съвпадения
   - Проверявайте дали има достатъчно място в масива за резултати

## Възможни разширения

- Добавяне на търсене по тип сграда
- Търсене по местоположение в зададен радиус
- Комбинирано търсене по няколко критерия
- Индексиране на файловете за по-бързо търсене